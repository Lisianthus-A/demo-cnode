(this.webpackJsonpinit=this.webpackJsonpinit||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/cnode.2380f055.svg"},24:function(e,t,a){e.exports=a(42)},29:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),l=a.n(r),s=(a(29),a(18)),o=a(19),i=a(23),m=a(22),u=a(3),p=a(1),E=a(20),d=a.n(E),f=(a(30),function(e){return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"logo"},c.a.createElement(u.b,{to:"/"},c.a.createElement("img",{src:d.a,alt:"logo"}))),c.a.createElement("div",{className:"navbar"},c.a.createElement(u.b,{to:"/"},"\u9996\u9875"),c.a.createElement("a",{href:"https://cnodejs.org/getstart",target:"_blank",rel:"noopener noreferrer"},"\u65b0\u624b\u5165\u95e8"),c.a.createElement("a",{href:"https://cnodejs.org/api",target:"_black",rel:"noopener noreferrer"},"API"),c.a.createElement("a",{href:"/",onClick:function(e){return e.preventDefault()}},"\u5173\u4e8e")))}),h=a(7),v=a.n(h),b=a(9),g=a(8),N=(a(37),a(38),a(39),function(e){return c.a.createElement("div",{className:"loading"})}),j=function(e){var t=Date.now()-new Date(e),a=new Date(t);return t<=6e4?"\u521a\u521a":t<=36e5?"".concat(parseInt(t/6e4),"\u5206\u949f\u524d"):t<=864e5?"".concat(parseInt(t/36e5),"\u5c0f\u65f6\u524d"):a.getFullYear()>1970?"".concat(a.getFullYear()-1970,"\u5e74\u524d"):a.getMonth()?"".concat(a.getMonth(),"\u4e2a\u6708\u524d"):"".concat(a.getDate()-1,"\u5929\u524d")},k=function(e){return e.data?c.a.createElement("div",{className:"list-item"},c.a.createElement("div",{className:"list"},e.data.map((function(e){return c.a.createElement("div",{className:"cell",key:e.id},c.a.createElement(u.b,{to:"/user/".concat(e.author.loginname)},c.a.createElement("img",{className:"user-avatar",src:e.author.avatar_url,title:e.author.loginname,alt:""})),c.a.createElement("div",{className:"cell-left"},c.a.createElement("span",{className:"reply-count"},e.reply_count),c.a.createElement("span",null,"/"),c.a.createElement("span",{className:"visit-count"},e.visit_count)),c.a.createElement("span",{className:e.top||e.good?"put-top":"list-tab"},function(e){if(e.top)return"\u7f6e\u9876";if(e.good)return"\u7cbe\u534e";switch(e.tab){case"ask":return"\u95ee\u7b54";case"share":return"\u5206\u4eab";case"job":return"\u62db\u8058";default:return""}}(e)),c.a.createElement("span",{className:"title"},c.a.createElement(u.b,{to:"/post/".concat(e.id)},e.title)),c.a.createElement("span",{className:"time"},j(e.last_reply_at)))})))):c.a.createElement(N,null)},O=function(e){var t=Object(n.useState)("all"),a=Object(g.a)(t,2),r=a[0],l=a[1],s=Object(n.useState)(1),o=Object(g.a)(s,2),i=o[0],m=o[1],u=Object(n.useState)(null),p=Object(g.a)(u,2),E=p[0],d=p[1];Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://cnodejs.org/api/v1/topics?limit=20","&page=").concat(i,"&tab=").concat(r)).then((function(e){return e.json()}));case 2:t=e.sent,d(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d(null),e()}),[r,i]);var f=function(e){"next"===e?m(i+1):i>1&&m(i-1)},h=function(e){l(e),m(1)};return c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"tab"},c.a.createElement("span",{className:"all"===r?"item high-light":"item",onClick:function(){return h("all")}},"\u5168\u90e8"),c.a.createElement("span",{className:"good"===r?"item high-light":"item",onClick:function(){return h("good")}},"\u7cbe\u534e"),c.a.createElement("span",{className:"share"===r?"item high-light":"item",onClick:function(){return h("share")}},"\u5206\u4eab"),c.a.createElement("span",{className:"ask"===r?"item high-light":"item",onClick:function(){return h("ask")}},"\u95ee\u7b54"),c.a.createElement("span",{className:"job"===r?"item high-light":"item",onClick:function(){return h("job")}},"\u62db\u8058")),c.a.createElement(k,{data:E}),E&&c.a.createElement("div",{className:"page"},c.a.createElement("button",{onClick:function(){return f("prev")}},"<<Prev"),c.a.createElement("button",{onClick:function(){return f("next")}},"Next>>")))},_=(a(40),function(e){var t=e.match.params.id,a=Object(n.useState)(null),r=Object(g.a)(a,2),l=r[0],s=r[1],o=Object(n.useState)(null),i=Object(g.a)(o,2),m=i[0],p=i[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://cnodejs.org/api/v1/topic/").concat(t)).then((function(e){return e.json()}));case 2:a=e.sent,s(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s(null),e()}),[t]),Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=5;break}return e.next=3,fetch("".concat("https://cnodejs.org/api/v1/user/").concat(l.author.loginname)).then((function(e){return e.json()}));case 3:t=e.sent,p(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();p(null),e()}),[l]),l&&m?c.a.createElement("div",{className:"post"},c.a.createElement("div",{className:"panel"},c.a.createElement("div",{className:"panel-top"},c.a.createElement("div",{className:"title"},l.title),c.a.createElement("div",{className:"changes"},c.a.createElement("span",null,"\u53d1\u5e03\u4e8e","".concat(j(l.create_at))),c.a.createElement("span",null,c.a.createElement(u.b,{to:"/user/".concat(l.author.loginname)},"\u4f5c\u8005","".concat(l.author.loginname))),c.a.createElement("span",null,"".concat(l.visit_count),"\u6b21\u6d4f\u89c8")),c.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:l.content}})),c.a.createElement("div",{className:"panel-bottom"},c.a.createElement("header",{className:"reply-header"},"".concat(l.replies.length),"\u56de\u590d"),l.replies.map((function(e,t){return c.a.createElement("div",{className:"reply",key:t},c.a.createElement("div",{className:"reply-author"},c.a.createElement(u.b,{to:"/user/".concat(e.author.loginname)},c.a.createElement("img",{src:e.author.avatar_url,alt:"".concat(e.author.loginname)})),c.a.createElement(u.b,{to:"/user/".concat(e.author.loginname)},"".concat(e.author.loginname)),c.a.createElement("span",null," \u56de\u590d\u4e8e".concat(j(e.create_at)))),c.a.createElement("div",{className:"reply-content",dangerouslySetInnerHTML:{__html:e.content}}))})))),c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"panel"},c.a.createElement("div",{className:"panel-top"},c.a.createElement("header",null,"\u4f5c\u8005"),c.a.createElement("div",{className:"info"},c.a.createElement(u.b,{to:"/user/".concat(m.loginname)},c.a.createElement("img",{src:"".concat(m.avatar_url),alt:"".concat(m.loginname)}),c.a.createElement("span",null,"".concat(m.loginname)))),c.a.createElement("div",{className:"score"},"\u79ef\u5206\uff1a".concat(m.score)),c.a.createElement("div",{className:"register-time"},"\u6ce8\u518c\u65f6\u95f4\uff1a".concat(j(m.create_at)))),c.a.createElement("div",{className:"panel-bottom"},c.a.createElement("header",null,"\u4f5c\u8005\u7684\u5176\u4ed6\u8bdd\u9898"),c.a.createElement("div",{className:"list"},m.recent_topics.map((function(e,t){return c.a.createElement("div",{className:"item",key:t},c.a.createElement(u.b,{to:"/post/".concat(e.id)},"".concat(e.title)))}))))))):c.a.createElement(N,null)}),y=(a(41),function(e){var t=Object(n.useState)(null),a=Object(g.a)(t,2),r=a[0],l=a[1],s=e.match.params.name;return Object(n.useEffect)((function(){var e=function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://cnodejs.org/api/v1/user/").concat(s)).then((function(e){return e.json()}));case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l(null),e()}),[s]),r?c.a.createElement("div",{className:"user"},c.a.createElement("div",{className:"panel"},c.a.createElement("div",{className:"panel-top"},c.a.createElement("header",null,"\u4e2a\u4eba\u4fe1\u606f"),c.a.createElement("div",{className:"info"},c.a.createElement("img",{src:"".concat(r.avatar_url),title:"".concat(r.loginname),alt:""}),c.a.createElement("span",null,"".concat(r.loginname))),c.a.createElement("div",{className:"score"},"\u79ef\u5206\uff1a".concat(r.score)),c.a.createElement("div",{className:"github"},"GitHub:",c.a.createElement("a",{href:"https://github.com/".concat(r.githubUsername)},r.githubUsername)),c.a.createElement("div",{className:"register-time"},"\u6ce8\u518c\u65f6\u95f4\uff1a",j(r.create_at))),c.a.createElement("div",{className:"panel-middle"},c.a.createElement("header",null,"\u6700\u8fd1\u521b\u5efa\u7684\u8bdd\u9898"),c.a.createElement("div",{className:"list"},r.recent_replies.map((function(e,t){return c.a.createElement("div",{className:"item",key:t},c.a.createElement(u.b,{to:"/post/".concat(e.id)},e.title))})))),c.a.createElement("div",{className:"panel-bottom"},c.a.createElement("header",null,"\u6700\u8fd1\u53c2\u4e0e\u7684\u8bdd\u9898"),c.a.createElement("div",{className:"list"},r.recent_topics.map((function(e,t){return c.a.createElement("div",{className:"item",key:t},c.a.createElement(u.b,{to:"/post/".concat(e.id)},e.title))})))))):c.a.createElement(N,null)}),x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return c.a.createElement(u.a,null,c.a.createElement(f,null),c.a.createElement(p.d,null,c.a.createElement(p.b,{exact:!0,path:"/",component:O}),c.a.createElement(p.b,{exact:!0,path:"/post",component:function(){return c.a.createElement(p.a,{to:"/"})}}),c.a.createElement(p.b,{exact:!0,path:"/user",component:function(){return c.a.createElement(p.a,{to:"/"})}}),c.a.createElement(p.b,{path:"/post/:id",component:_}),c.a.createElement(p.b,{path:"/user/:name",component:y})))}}]),a}(c.a.Component);l.a.render(c.a.createElement(x,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.6e60e3ad.chunk.js.map